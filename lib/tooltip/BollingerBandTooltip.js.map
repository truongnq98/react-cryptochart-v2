{"version":3,"sources":["../../../src/lib/tooltip/BollingerBandTooltip.js"],"names":["BollingerBandTooltip","props","renderSVG","bind","moreProps","onClick","displayFormat","yAccessor","options","textFill","labelFill","interactiveMode","displayValuesFor","chartConfig","width","height","currentItem","top","middle","bottom","item","originProp","origin","x","y","sourcePath","windowSize","multiplier","movingAverageType","tooltipLabel","tooltipValue","className","fontFamily","fontSize","Component","propTypes","PropTypes","string","func","isRequired","array","shape","number","bool","defaultProps"],"mappings":"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","file":"BollingerBandTooltip.js","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { format } from \"d3-format\";\nimport displayValuesFor from \"./displayValuesFor\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined, functor } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass BollingerBandTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { onClick, displayFormat, yAccessor, options, textFill, labelFill, interactiveMode } = this.props;\n\t\tconst { displayValuesFor } = this.props;\n\n\t\tconst { chartConfig: { width, height } } = moreProps;\n\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\n\n\t\tlet top, middle, bottom;\n\t\ttop = middle = bottom = \"n/a\";\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(yAccessor(currentItem))) {\n\t\t\tconst item = yAccessor(currentItem);\n\t\t\ttop = displayFormat(item.top);\n\t\t\tmiddle = displayFormat(item.middle);\n\t\t\tbottom = displayFormat(item.bottom);\n\t\t}\n\n\t\tconst { origin: originProp } = this.props;\n\t\tconst origin = functor(originProp);\n\t\tconst [x, y] = origin(width, height);\n\n\t\tconst { sourcePath, windowSize, multiplier, movingAverageType } = options;\n\t\tconst tooltipLabel = `BB(${sourcePath}, ${windowSize}, ${multiplier}, ${movingAverageType})${interactiveMode ? \": \" : \"\"}`;\n\t\tconst tooltipValue = interactiveMode ? `${top}, ${middle}, ${bottom}` : \"\";\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`}\n\t\t\t\tclassName={this.props.className} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{tooltipLabel}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={textFill}>{tooltipValue}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOn={[\"mousemove\"]}\n\t\t/>;\n\t}\n}\n\nBollingerBandTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tdisplayValuesFor: PropTypes.func,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\toptions: PropTypes.shape({\n\t\tsourcePath: PropTypes.string.isRequired,\n\t\twindowSize: PropTypes.number.isRequired,\n\t\tmultiplier: PropTypes.number.isRequired,\n\t\tmovingAverageType: PropTypes.string.isRequired,\n\t}).isRequired,\n\ttextFill: PropTypes.string,\n\tlabelFill: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tinteractiveMode: PropTypes.bool,\n};\n\nBollingerBandTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-tooltip react-stockcharts-bollingerband-tooltip\",\n\tdisplayFormat: format(\".2f\"),\n\tdisplayValuesFor: displayValuesFor,\n\torigin: [0, 10],\n\tinteractiveMode: false,\n};\n\nexport default BollingerBandTooltip;\n"]}