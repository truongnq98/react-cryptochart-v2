{"version":3,"sources":["../../../../src/lib/tooltip/MACDTooltip.js"],"names":["format","React","Component","PropTypes","displayValuesFor","GenericChartComponent","ToolTipText","ToolTipTSpanLabel","functor","MACDTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","displayFormat","className","interactiveMode","yAccessor","options","appearance","labelFill","chartConfig","width","height","currentItem","macdValue","macd","signal","divergence","originProp","origin","x","y","stroke","slow","fast","fill","propTypes","oneOfType","array","func","isRequired","string","number","shape","bool","defaultProps"],"mappings":"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","file":"MACDTooltip.js","sourcesContent":["\n\nimport { format } from \"d3-format\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport displayValuesFor from \"./displayValuesFor\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\nimport { functor } from \"../utils\";\n\nclass MACDTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { onClick, fontFamily, fontSize, displayFormat, className, interactiveMode } = this.props;\n\t\tconst { yAccessor, options, appearance, labelFill } = this.props;\n\t\tconst { displayValuesFor } = this.props;\n\n\t\tconst { chartConfig: { width, height } } = moreProps;\n\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\n\t\tconst macdValue = currentItem && yAccessor(currentItem);\n\n\t\tconst macd = (macdValue && macdValue.macd && displayFormat(macdValue.macd)) || \"n/a\";\n\t\tconst signal = (macdValue && macdValue.signal && displayFormat(macdValue.signal)) || \"n/a\";\n\t\tconst divergence = (macdValue && macdValue.divergence && displayFormat(macdValue.divergence)) || \"n/a\";\n\n\t\tconst { origin: originProp } = this.props;\n\t\tconst origin = functor(originProp);\n\t\tconst [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>MACD (</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={appearance.stroke.macd}>{options.slow}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>, </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={appearance.stroke.macd}>{options.fast}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>){interactiveMode ? \": \" : \"\"}</ToolTipTSpanLabel>\n\t\t\t\t\t{ interactiveMode ? (\n\t\t\t\t\t\t<tspan>\n\t\t\t\t\t\t\t<tspan fill={appearance.stroke.macd}>{macd}</tspan>\n\t\t\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}> Signal (</ToolTipTSpanLabel>\n\t\t\t\t\t\t\t<tspan fill={appearance.stroke.signal}>{options.signal}</tspan>\n\t\t\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\n\t\t\t\t\t\t\t<tspan fill={appearance.stroke.signal}>{signal}</tspan>\n\t\t\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}> Divergence: </ToolTipTSpanLabel>\n\t\t\t\t\t\t\t<tspan fill={appearance.fill.divergence}>{divergence}</tspan>\n\t\t\t\t\t\t</tspan>\n\t\t\t\t\t) : null}\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOn={[\"mousemove\"]}\n\t\t/>;\n\t}\n}\n\nMACDTooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tclassName: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tlabelFill: PropTypes.string,\n\n\tyAccessor: PropTypes.func.isRequired,\n\toptions: PropTypes.shape({\n\t\tslow: PropTypes.number.isRequired,\n\t\tfast: PropTypes.number.isRequired,\n\t\tsignal: PropTypes.number.isRequired,\n\t}).isRequired,\n\tappearance: PropTypes.shape({\n\t\tstroke: {\n\t\t\tmacd: PropTypes.string.isRequired,\n\t\t\tsignal: PropTypes.string.isRequired,\n\t\t}.isRequired,\n\t\tfill: PropTypes.shape({\n\t\t\tdivergence: PropTypes.string.isRequired,\n\t\t}).isRequired,\n\t}).isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tdisplayValuesFor: PropTypes.func,\n\tonClick: PropTypes.func,\n\tinteractiveMode: PropTypes.bool,\n};\n\nMACDTooltip.defaultProps = {\n\torigin: [0, 0],\n\tdisplayFormat: format(\".2f\"),\n\tdisplayValuesFor: displayValuesFor,\n\tclassName: \"react-stockcharts-tooltip\",\n\tinteractiveMode: false,\n};\n\nexport default MACDTooltip;\n// export default MACDTooltip;\n"]}