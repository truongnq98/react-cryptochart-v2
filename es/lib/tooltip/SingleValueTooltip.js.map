{"version":3,"sources":["../../../../src/lib/tooltip/SingleValueTooltip.js"],"names":["React","Component","PropTypes","format","displayValuesFor","GenericChartComponent","ToolTipText","ToolTipTSpanLabel","isDefined","identity","noop","functor","SingleValueTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","labelFill","valueFill","className","interactiveMode","xDisplayFormat","yDisplayFormat","xLabel","yLabel","xAccessor","yAccessor","chartConfig","width","height","currentItem","xDisplayValue","yDisplayValue","originProp","origin","x","y","propTypes","func","isRequired","string","oneOfType","array","number","bool","defaultProps"],"mappings":"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","file":"SingleValueTooltip.js","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { format } from \"d3-format\";\nimport displayValuesFor from \"./displayValuesFor\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\nimport { isDefined, identity, noop, functor } from \"../utils\";\n\nclass SingleValueTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\n\t\tconst { onClick, fontFamily, fontSize, labelFill, valueFill, className, interactiveMode } = this.props;\n\t\tconst { xDisplayFormat, yDisplayFormat, xLabel, yLabel, xAccessor, yAccessor } = this.props;\n\t\tconst { displayValuesFor } = this.props;\n\n\t\tconst { chartConfig: { width, height } } = moreProps;\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\n\n\t\tconst xDisplayValue = isDefined(currentItem) && isDefined(xAccessor(currentItem)) ? xDisplayFormat(xAccessor(currentItem)) : \"n/a\";\n\t\tconst yDisplayValue = isDefined(currentItem) && isDefined(yAccessor(currentItem)) ? yDisplayFormat(yAccessor(currentItem)) : \"n/a\";\n\n\t\tconst { origin: originProp } = this.props;\n\t\tconst origin = functor(originProp);\n\t\tconst [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t{ xLabel ? <ToolTipTSpanLabel x={0} dy=\"5\" fill={labelFill}>{`${xLabel}${interactiveMode ? \": \" : \"\"}`}</ToolTipTSpanLabel> : null}\n\t\t\t\t\t{ xLabel ? <tspan fill={valueFill}>{`${interactiveMode ? xDisplayValue : \"\"} `}</tspan> : null}\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{`${yLabel}${interactiveMode ? \": \" : \"\"}`}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={valueFill} >{interactiveMode ? yDisplayValue : \"\"}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOn={[\"mousemove\"]}\n\t\t/>;\n\t}\n}\n\nSingleValueTooltip.propTypes = {\n\txDisplayFormat: PropTypes.func,\n\tyDisplayFormat: PropTypes.func.isRequired,\n\txLabel: PropTypes.string,\n\tyLabel: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n\tlabelFill: PropTypes.string.isRequired,\n\tvalueFill: PropTypes.string,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tclassName: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tdisplayValuesFor: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func,\n\tinteractiveMode: PropTypes.bool,\n};\n\nSingleValueTooltip.defaultProps = {\n\torigin: [0, 0],\n\tlabelFill: \"#4682B4\",\n\tvalueFill: \"#000000\",\n\tyDisplayFormat: format(\".2f\"),\n\tdisplayValuesFor: displayValuesFor,\n\txAccessor: noop,\n\tyAccessor: identity,\n\tclassName: \"react-stockcharts-tooltip\",\n\tinteractiveMode: false,\n};\n\nexport default SingleValueTooltip;\n"]}