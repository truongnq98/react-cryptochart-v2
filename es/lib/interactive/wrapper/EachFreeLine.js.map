{"version":3,"sources":["../../../../../src/lib/interactive/wrapper/EachFreeLine.js"],"names":["React","Component","PropTypes","ascending","d3Ascending","noop","strokeDashTypes","saveNodeType","isHover","getXValue","FreeLineComponent","ClickableCircle","HoverTextNearMouse","EachTrendLine","props","handleEdge1Drag","bind","handleEdge2Drag","handleLineDragStart","handleLineDrag","handleEdge1DragStart","handleEdge2DragStart","handleDragComplete","handleHover","nodes","state","hover","positionList","dragStart","moreProps","index","onDrag","xScale","yScale","chartConfig","xAccessor","fullData","startPos","mouseXY","convertedList","Array","forEach","push","element","dx","dy","posList","map","x","invert","setState","anchor","undefined","onDragComplete","x2Value","y2Value","getNewXY","x1Value","y1Value","hovering","stroke","strokeWidth","strokeOpacity","strokeDasharray","r","edgeStrokeWidth","edgeFill","fill","fillOpacity","edgeStroke","edgeInteractiveCursor","lineInteractiveCursor","hoverText","selected","hoverTextEnabled","enable","restHoverTextProps","length","plotData","mouseY","domain","slice","sort","small","big","y","newY","Math","min","max","propTypes","arrayOf","any","isRequired","number","func","onEdge1Drag","onEdge2Drag","onSelect","onUnSelect","defaultClassName","string","bool","oneOf","object","defaultProps"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,SAASC,aAAaC,WAAtB,QAAyC,UAAzC;AACA,SAASC,IAAT,EAAeC,eAAf,QAAsC,aAAtC;AACA,SAASC,YAAT,EAAuBC,OAAvB,QAAsC,UAAtC;AACA,SAASC,SAAT,QAA0B,2BAA1B;;AAEA,OAAOC,iBAAP,MAA8B,wBAA9B;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,kBAAP,MAA+B,kCAA/B;;IAEMC,a;;;AACL,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4HACZA,KADY;;AAGlB,QAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,OAAvB;AACA,QAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBD,IAArB,OAAvB;AACA,QAAKE,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBF,IAAzB,OAA3B;AACA,QAAKG,cAAL,GAAsB,MAAKA,cAAL,CAAoBH,IAApB,OAAtB;;AAEA,QAAKI,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BJ,IAA1B,OAA5B;AACA,QAAKK,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BL,IAA1B,OAA5B;;AAEA,QAAKM,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBN,IAAxB,OAA1B;;AAEA,QAAKO,WAAL,GAAmB,MAAKA,WAAL,CAAiBP,IAAjB,OAAnB;;AAEA,QAAKR,OAAL,GAAeA,QAAQQ,IAAR,OAAf;AACA,QAAKT,YAAL,GAAoBA,aAAaS,IAAb,OAApB;AACA,QAAKQ,KAAL,GAAa,EAAb;;AAEA,QAAKC,KAAL,GAAa;AACZC,UAAO;AADK,GAAb;AAnBkB;AAsBlB;;;;wCACqB;AAAA,OAEpBC,YAFoB,GAGjB,KAAKb,KAHY,CAEpBa,YAFoB;;;AAKrB,QAAKC,SAAL,GAAiB;AAChBD;AADgB,IAAjB;AAGA;;;iCACcE,S,EAAW;AAAA,gBACC,KAAKf,KADN;AAAA,OACjBgB,KADiB,UACjBA,KADiB;AAAA,OACVC,MADU,UACVA,MADU;AAAA,OAIxBJ,YAJwB,GAKrB,KAAKC,SALgB,CAIxBD,YAJwB;AAAA,OAOjBK,MAPiB,GAOwCH,SAPxC,CAOjBG,MAPiB;AAAA,OAOMC,MAPN,GAOwCJ,SAPxC,CAOTK,WAPS,CAOMD,MAPN;AAAA,OAOgBE,SAPhB,GAOwCN,SAPxC,CAOgBM,SAPhB;AAAA,OAO2BC,QAP3B,GAOwCP,SAPxC,CAO2BO,QAP3B;AAAA,OAQjBC,QARiB,GAQKR,SARL,CAQjBQ,QARiB;AAAA,OAQPC,OARO,GAQKT,SARL,CAQPS,OARO;;AASzB,OAAMC,gBAAgB,IAAIC,KAAJ,EAAtB;AACAb,gBAAac,OAAb,CAAqB,mBAAW;AAC/BF,kBAAcG,IAAd,CAAmB,CAACV,OAAOW,QAAQ,CAAR,CAAP,CAAD,EAAqBV,OAAOU,QAAQ,CAAR,CAAP,CAArB,CAAnB;AACA,IAFD;AAGA,OAAMC,KAAKP,SAAS,CAAT,IAAcC,QAAQ,CAAR,CAAzB;AACA,OAAMO,KAAKR,SAAS,CAAT,IAAcC,QAAQ,CAAR,CAAzB;AACA,OAAMQ,UAAUP,cAAcQ,GAAd,CAAkB,aAAK;AACtC,WACC,CAACtC,UAAUuB,MAAV,EAAkBG,SAAlB,EAA6B,CAACa,EAAE,CAAF,IAAOJ,EAAR,EAAYI,EAAE,CAAF,IAAOH,EAAnB,CAA7B,EAAqDT,QAArD,CAAD,EAAkEH,OAAOgB,MAAP,CAAcD,EAAE,CAAF,IAAOH,EAArB,CAAlE,CADD;AAGA,IAJe,CAAhB;;AAMAd,UAAOD,KAAP,EAAc;AACbH,kBAAcmB;AADD,IAAd;AAGA;;;yCACsB;AACtB,QAAKI,QAAL,CAAc;AACbC,YAAQ;AADK,IAAd;AAGA;;;yCACsB;AACtB,QAAKD,QAAL,CAAc;AACbC,YAAQ;AADK,IAAd;AAGA;;;uCAC2B;AAAA;;AAC3B,QAAKD,QAAL,CAAc;AACbC,YAAQC;AADK,IAAd;AAGA,mBAAKtC,KAAL,EAAWuC,cAAX;AACA;;;kCACexB,S,EAAW;AAAA,iBACA,KAAKf,KADL;AAAA,OAClBgB,KADkB,WAClBA,KADkB;AAAA,OACXC,MADW,WACXA,MADW;AAAA,iBAItB,KAAKjB,KAJiB;AAAA,OAGzBwC,OAHyB,WAGzBA,OAHyB;AAAA,OAGhBC,OAHgB,WAGhBA,OAHgB;;AAAA,mBAMCC,SAAS3B,SAAT,CAND;AAAA;AAAA,OAMnB4B,OANmB;AAAA,OAMVC,OANU;;AAQ1B3B,UAAOD,KAAP,EAAc;AACb2B,oBADa;AAEbC,oBAFa;AAGbJ,oBAHa;AAIbC;AAJa,IAAd;AAMA;;;kCACe1B,S,EAAW;AAAA,iBACA,KAAKf,KADL;AAAA,OAClBgB,KADkB,WAClBA,KADkB;AAAA,OACXC,MADW,WACXA,MADW;AAAA,iBAItB,KAAKjB,KAJiB;AAAA,OAGzB2C,OAHyB,WAGzBA,OAHyB;AAAA,OAGhBC,OAHgB,WAGhBA,OAHgB;;AAAA,oBAMCF,SAAS3B,SAAT,CAND;AAAA;AAAA,OAMnByB,OANmB;AAAA,OAMVC,OANU;;AAQ1BxB,UAAOD,KAAP,EAAc;AACb2B,oBADa;AAEbC,oBAFa;AAGbJ,oBAHa;AAIbC;AAJa,IAAd;AAMA;;;8BACW1B,S,EAAW;AACtB,OAAI,KAAKJ,KAAL,CAAWC,KAAX,KAAqBG,UAAU8B,QAAnC,EAA6C;AAC5C,SAAKT,QAAL,CAAc;AACbxB,YAAOG,UAAU8B;AADJ,KAAd;AAGA;AACD;;;2BACQ;AAAA,iBAkBJ,KAAK7C,KAlBD;AAAA,OAEPa,YAFO,WAEPA,YAFO;AAAA,OAGPiC,MAHO,WAGPA,MAHO;AAAA,OAIPC,WAJO,WAIPA,WAJO;AAAA,OAKPC,aALO,WAKPA,aALO;AAAA,OAMPC,eANO,WAMPA,eANO;AAAA,OAOPC,CAPO,WAOPA,CAPO;AAAA,OAQPC,eARO,WAQPA,eARO;AAAA,OASPC,QATO,WASPA,QATO;AAAA,OAUPC,IAVO,WAUPA,IAVO;AAAA,OAWPC,WAXO,WAWPA,WAXO;AAAA,OAYPC,UAZO,WAYPA,UAZO;AAAA,OAaPC,qBAbO,WAaPA,qBAbO;AAAA,OAcPC,qBAdO,WAcPA,qBAdO;AAAA,OAePC,SAfO,WAePA,SAfO;AAAA,OAgBPC,QAhBO,WAgBPA,QAhBO;AAAA,OAiBPpB,cAjBO,WAiBPA,cAjBO;AAAA,gBAmBkB,KAAK5B,KAnBvB;AAAA,OAmBAC,KAnBA,UAmBAA,KAnBA;AAAA,OAmBOyB,MAnBP,UAmBOA,MAnBP;AAoBR;;AApBQ,OAqBQuB,gBArBR,GAqBoDF,SArBpD,CAqBAG,MArBA;AAAA,OAqB6BC,kBArB7B,4BAqBoDJ,SArBpD;;AAuBR,UAAO;AAAA;AAAA;AACN,wBAAC,iBAAD;AACC,UAAK,KAAKjE,YAAL,CAAkB,MAAlB,CADN;AAEC,eAAUkE,YAAY/C,KAFvB;AAGC,cAAS,KAAKH,WAHf;AAIC,gBAAW,KAAKA,WAJjB;AAKC,mBAAcI,YALf;AAMC,aAAQiC,MANT;AAOC,WAAMO,IAPP;AAQC,kBAAaC,WARd;AASC,kBAAc1C,SAAS+C,QAAV,GAAsBZ,cAAc,CAApC,GAAwCA,WATtD;AAUC,oBAAeC,aAVhB;AAWC,sBAAiBC,eAXlB;AAYC,6BAAwBQ,qBAZzB;AAaC,kBAAa,KAAKrD,mBAbnB;AAcC,aAAQ,KAAKC,cAdd;AAeC,qBAAgBkC,cAfjB,GADM;AAiBN,wBAAC,eAAD;AACC,UAAK,KAAK9C,YAAL,CAAkB,OAAlB,CADN;AAEC,WAAMkE,YAAY/C,KAFnB;AAGC,SAAIC,aAAa,CAAb,EAAgB,CAAhB,CAHL;AAIC,SAAIA,aAAa,CAAb,EAAgB,CAAhB,CAJL;AAKC,QAAGqC,CALJ;AAMC,WAAME,QANP;AAOC,aAAQf,WAAW,OAAX,GAAqBS,MAArB,GAA8BS,UAPvC;AAQC,kBAAaJ,eARd;AASC,oBAAe,CAThB;AAUC,6BAAwBK,qBAVzB;AAWC,kBAAa,KAAKpD,mBAXnB;AAYC,aAAQ,KAAKC,cAZd;AAaC,qBAAgB,KAAKG,kBAbtB,GAjBM;AA+BN,wBAAC,eAAD;AACC,UAAK,KAAKf,YAAL,CAAkB,OAAlB,CADN;AAEC,WAAMkE,YAAY/C,KAFnB;AAGC,SAAIC,aAAaA,aAAakD,MAAb,GAAsB,CAAnC,EAAsC,CAAtC,CAHL;AAIC,SAAIlD,aAAaA,aAAakD,MAAb,GAAsB,CAAnC,EAAsC,CAAtC,CAJL;AAKC,QAAGb,CALJ;AAMC,WAAME,QANP;AAOC,aAAQf,WAAW,OAAX,GAAqBS,MAArB,GAA8BS,UAPvC;AAQC,kBAAaJ,eARd;AASC,oBAAe,CAThB;AAUC,6BAAwBK,qBAVzB;AAWC,kBAAa,KAAKpD,mBAXnB;AAYC,aAAQ,KAAKC,cAZd;AAaC,qBAAgB,KAAKG,kBAbtB,GA/BM;AA6CN,wBAAC,kBAAD;AACC,WAAMoD,oBAAoBhD,KAApB,IAA6B,CAAC+C;AADrC,OAEKG,kBAFL;AA7CM,IAAP;AAiDA;;;;EAvL0B3E,S;;AA0L5B,OAAO,SAASuD,QAAT,CAAkB3B,SAAlB,EAA6B;AAAA,KAC3BG,MAD2B,GACuCH,SADvC,CAC3BG,MAD2B;AAAA,KACJC,MADI,GACuCJ,SADvC,CACnBK,WADmB,CACJD,MADI;AAAA,KACME,SADN,GACuCN,SADvC,CACMM,SADN;AAAA,KACiB2C,QADjB,GACuCjD,SADvC,CACiBiD,QADjB;AAAA,KAC2BxC,OAD3B,GACuCT,SADvC,CAC2BS,OAD3B;;AAEnC,KAAMyC,SAASzC,QAAQ,CAAR,CAAf;;AAEA,KAAMU,IAAIvC,UAAUuB,MAAV,EAAkBG,SAAlB,EAA6BG,OAA7B,EAAsCwC,QAAtC,CAAV;;AAJmC,6BAMd7C,OAAO+C,MAAP,GAAgBC,KAAhB,GAAwBC,IAAxB,CAA6B9E,WAA7B,CANc;AAAA;AAAA,KAM5B+E,KAN4B;AAAA,KAMrBC,GANqB;;AAOnC,KAAMC,IAAIpD,OAAOgB,MAAP,CAAc8B,MAAd,CAAV;AACA,KAAMO,OAAOC,KAAKC,GAAL,CAASD,KAAKE,GAAL,CAASJ,CAAT,EAAYF,KAAZ,CAAT,EAA6BC,GAA7B,CAAb;AACA,QAAO,CAACpC,CAAD,EAAIsC,IAAJ,CAAP;AACA;;AAEDzE,cAAc6E,SAAd,GAA0B;AACzB/D,eAAczB,UAAUyF,OAAV,CAAkBzF,UAAU0F,GAA5B,EAAiCC,UADtB;AAEzB/D,QAAO5B,UAAU4F,MAFQ;AAGzB/D,SAAQ7B,UAAU6F,IAAV,CAAeF,UAHE;AAIzBG,cAAa9F,UAAU6F,IAAV,CAAeF,UAJH;AAKzBI,cAAa/F,UAAU6F,IAAV,CAAeF,UALH;AAMzBxC,iBAAgBnD,UAAU6F,IAAV,CAAeF,UANN;AAOzBK,WAAUhG,UAAU6F,IAAV,CAAeF,UAPA;AAQzBM,aAAYjG,UAAU6F,IAAV,CAAeF,UARF;;AAUzB7B,IAAG9D,UAAU4F,MAAV,CAAiBD,UAVK;AAWzB/B,gBAAe5D,UAAU4F,MAAV,CAAiBD,UAXP;AAYzBO,mBAAkBlG,UAAUmG,MAZH;;AAczB5B,WAAUvE,UAAUoG,IAdK;;AAgBzB1C,SAAQ1D,UAAUmG,MAAV,CAAiBR,UAhBA;AAiBzBhC,cAAa3D,UAAU4F,MAAV,CAAiBD,UAjBL;AAkBzB9B,kBAAiB7D,UAAUqG,KAAV,CAAgBjG,eAAhB,CAlBQ;;AAoBzB2D,kBAAiB/D,UAAU4F,MAAV,CAAiBD,UApBT;AAqBzBxB,aAAYnE,UAAUmG,MAAV,CAAiBR,UArBJ;AAsBzBvB,wBAAuBpE,UAAUmG,MAAV,CAAiBR,UAtBf;AAuBzBtB,wBAAuBrE,UAAUmG,MAAV,CAAiBR,UAvBf;AAwBzB3B,WAAUhE,UAAUmG,MAAV,CAAiBR,UAxBF;AAyBzBrB,YAAWtE,UAAUsG,MAAV,CAAiBX,UAzBH;AA0BzB1B,OAAMjE,UAAUmG,MAAV,CAAiBR,UA1BE;AA2BzBzB,cAAalE,UAAU4F,MAAV,CAAiBD;AA3BL,CAA1B;;AA8BAhF,cAAc4F,YAAd,GAA6B;AAC5B1E,SAAQ1B,IADoB;AAE5B2F,cAAa3F,IAFe;AAG5B4F,cAAa5F,IAHe;AAI5BgD,iBAAgBhD,IAJY;AAK5B6F,WAAU7F,IALkB;AAM5B8F,aAAY9F,IANgB;;AAQ5BoE,WAAU,KARkB;;AAU5BJ,aAAY,SAVgB;AAW5BH,WAAU,SAXkB;AAY5BC,OAAM,SAZsB;AAa5BC,cAAa,GAbe;AAc5BH,kBAAiB,CAdW;AAe5BD,IAAG,CAfyB;AAgB5BH,cAAa,CAhBe;AAiB5BC,gBAAe,GAjBa;AAkB5BC,kBAAiB,OAlBW;AAmB5BS,YAAW;AACVG,UAAQ;AADE;AAnBiB,CAA7B;;AAwBA,eAAe9D,aAAf","file":"EachFreeLine.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { ascending as d3Ascending } from \"d3-array\";\nimport { noop, strokeDashTypes } from \"../../utils\";\nimport { saveNodeType, isHover } from \"../utils\";\nimport { getXValue } from \"../../utils/ChartDataUtil\";\n\nimport FreeLineComponent from \"../components/FreeLine\";\nimport ClickableCircle from \"../components/ClickableCircle\";\nimport HoverTextNearMouse from \"../components/HoverTextNearMouse\";\n\nclass EachTrendLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleEdge1Drag = this.handleEdge1Drag.bind(this);\n\t\tthis.handleEdge2Drag = this.handleEdge2Drag.bind(this);\n\t\tthis.handleLineDragStart = this.handleLineDragStart.bind(this);\n\t\tthis.handleLineDrag = this.handleLineDrag.bind(this);\n\n\t\tthis.handleEdge1DragStart = this.handleEdge1DragStart.bind(this);\n\t\tthis.handleEdge2DragStart = this.handleEdge2DragStart.bind(this);\n\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\n\t\tthis.handleHover = this.handleHover.bind(this);\n\n\t\tthis.isHover = isHover.bind(this);\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.nodes = {};\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t};\n\t}\n\thandleLineDragStart() {\n\t\tconst {\n\t\t\tpositionList\n\t\t} = this.props;\n\n\t\tthis.dragStart = {\n\t\t\tpositionList\n\t\t};\n\t}\n\thandleLineDrag(moreProps) {\n\t\tconst { index, onDrag } = this.props;\n\n\t\tconst {\n\t\t\tpositionList\n\t\t} = this.dragStart;\n\n\t\tconst { xScale, chartConfig: { yScale }, xAccessor, fullData } = moreProps;\n\t\tconst { startPos, mouseXY } = moreProps;\n\t\tconst convertedList = new Array();\n\t\tpositionList.forEach(element => {\n\t\t\tconvertedList.push([xScale(element[0]), yScale(element[1])]);\n\t\t});\n\t\tconst dx = startPos[0] - mouseXY[0];\n\t\tconst dy = startPos[1] - mouseXY[1];\n\t\tconst posList = convertedList.map(x => {\n\t\t\treturn (\n\t\t\t\t[getXValue(xScale, xAccessor, [x[0] - dx, x[1] - dy], fullData),  yScale.invert(x[1] - dy)]\n\t\t\t);\n\t\t});\n\n\t\tonDrag(index, {\n\t\t\tpositionList: posList,\n\t\t});\n\t}\n\thandleEdge1DragStart() {\n\t\tthis.setState({\n\t\t\tanchor: \"edge2\"\n\t\t});\n\t}\n\thandleEdge2DragStart() {\n\t\tthis.setState({\n\t\t\tanchor: \"edge1\"\n\t\t});\n\t}\n\thandleDragComplete(...rest) {\n\t\tthis.setState({\n\t\t\tanchor: undefined\n\t\t});\n\t\tthis.props.onDragComplete(...rest);\n\t}\n\thandleEdge1Drag(moreProps) {\n\t\tconst { index, onDrag } = this.props;\n\t\tconst {\n\t\t\tx2Value, y2Value,\n\t\t} = this.props;\n\n\t\tconst [x1Value, y1Value] = getNewXY(moreProps);\n\n\t\tonDrag(index, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t});\n\t}\n\thandleEdge2Drag(moreProps) {\n\t\tconst { index, onDrag } = this.props;\n\t\tconst {\n\t\t\tx1Value, y1Value,\n\t\t} = this.props;\n\n\t\tconst [x2Value, y2Value] = getNewXY(moreProps);\n\n\t\tonDrag(index, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t});\n\t}\n\thandleHover(moreProps) {\n\t\tif (this.state.hover !== moreProps.hovering) {\n\t\t\tthis.setState({\n\t\t\t\thover: moreProps.hovering\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tpositionList,\n\t\t\tstroke,\n\t\t\tstrokeWidth,\n\t\t\tstrokeOpacity,\n\t\t\tstrokeDasharray,\n\t\t\tr,\n\t\t\tedgeStrokeWidth,\n\t\t\tedgeFill,\n\t\t\tfill,\n\t\t\tfillOpacity,\n\t\t\tedgeStroke,\n\t\t\tedgeInteractiveCursor,\n\t\t\tlineInteractiveCursor,\n\t\t\thoverText,\n\t\t\tselected,\n\t\t\tonDragComplete,\n\t\t} = this.props;\n\t\tconst { hover, anchor } = this.state;\n\t\t// console.log(\"SELECTED ->\", selected);\n\t\tconst { enable: hoverTextEnabled, ...restHoverTextProps } = hoverText;\n\n\t\treturn <g>\n\t\t\t<FreeLineComponent\n\t\t\t\tref={this.saveNodeType(\"line\")}\n\t\t\t\tselected={selected || hover}\n\t\t\t\tonHover={this.handleHover}\n\t\t\t\tonUnHover={this.handleHover}\n\t\t\t\tpositionList={positionList}\n\t\t\t\tstroke={stroke}\n\t\t\t\tfill={fill}\n\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\tstrokeWidth={(hover || selected) ? strokeWidth + 1 : strokeWidth}\n\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\tstrokeDasharray={strokeDasharray}\n\t\t\t\tinteractiveCursorClass={lineInteractiveCursor}\n\t\t\t\tonDragStart={this.handleLineDragStart}\n\t\t\t\tonDrag={this.handleLineDrag}\n\t\t\t\tonDragComplete={onDragComplete} />\n\t\t\t<ClickableCircle\n\t\t\t\tref={this.saveNodeType(\"edge1\")}\n\t\t\t\tshow={selected || hover}\n\t\t\t\tcx={positionList[0][0]}\n\t\t\t\tcy={positionList[0][1]}\n\t\t\t\tr={r}\n\t\t\t\tfill={edgeFill}\n\t\t\t\tstroke={anchor === \"edge1\" ? stroke : edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\tstrokeOpacity={1}\n\t\t\t\tinteractiveCursorClass={edgeInteractiveCursor}\n\t\t\t\tonDragStart={this.handleLineDragStart}\n\t\t\t\tonDrag={this.handleLineDrag}\n\t\t\t\tonDragComplete={this.handleDragComplete} />\n\t\t\t<ClickableCircle\n\t\t\t\tref={this.saveNodeType(\"edge2\")}\n\t\t\t\tshow={selected || hover}\n\t\t\t\tcx={positionList[positionList.length - 1][0]}\n\t\t\t\tcy={positionList[positionList.length - 1][1]}\n\t\t\t\tr={r}\n\t\t\t\tfill={edgeFill}\n\t\t\t\tstroke={anchor === \"edge2\" ? stroke : edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\tstrokeOpacity={1}\n\t\t\t\tinteractiveCursorClass={edgeInteractiveCursor}\n\t\t\t\tonDragStart={this.handleLineDragStart}\n\t\t\t\tonDrag={this.handleLineDrag}\n\t\t\t\tonDragComplete={this.handleDragComplete} />\n\t\t\t<HoverTextNearMouse\n\t\t\t\tshow={hoverTextEnabled && hover && !selected}\n\t\t\t\t{...restHoverTextProps} />\n\t\t</g>;\n\t}\n}\n\nexport function getNewXY(moreProps) {\n\tconst { xScale, chartConfig: { yScale }, xAccessor, plotData, mouseXY } = moreProps;\n\tconst mouseY = mouseXY[1];\n\n\tconst x = getXValue(xScale, xAccessor, mouseXY, plotData);\n\n\tconst [small, big] = yScale.domain().slice().sort(d3Ascending);\n\tconst y = yScale.invert(mouseY);\n\tconst newY = Math.min(Math.max(y, small), big);\n\treturn [x, newY];\n}\n\nEachTrendLine.propTypes = {\n\tpositionList: PropTypes.arrayOf(PropTypes.any).isRequired,\n\tindex: PropTypes.number,\n\tonDrag: PropTypes.func.isRequired,\n\tonEdge1Drag: PropTypes.func.isRequired,\n\tonEdge2Drag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonSelect: PropTypes.func.isRequired,\n\tonUnSelect: PropTypes.func.isRequired,\n\n\tr: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tdefaultClassName: PropTypes.string,\n\n\tselected: PropTypes.bool,\n\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\n\tedgeStrokeWidth: PropTypes.number.isRequired,\n\tedgeStroke: PropTypes.string.isRequired,\n\tedgeInteractiveCursor: PropTypes.string.isRequired,\n\tlineInteractiveCursor: PropTypes.string.isRequired,\n\tedgeFill: PropTypes.string.isRequired,\n\thoverText: PropTypes.object.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tfillOpacity: PropTypes.number.isRequired,\n};\n\nEachTrendLine.defaultProps = {\n\tonDrag: noop,\n\tonEdge1Drag: noop,\n\tonEdge2Drag: noop,\n\tonDragComplete: noop,\n\tonSelect: noop,\n\tonUnSelect: noop,\n\n\tselected: false,\n\n\tedgeStroke: \"#000000\",\n\tedgeFill: \"#FFFFFF\",\n\tfill: \"#8AAFE2\",\n\tfillOpacity: 0.5,\n\tedgeStrokeWidth: 2,\n\tr: 5,\n\tstrokeWidth: 1,\n\tstrokeOpacity: 0.7,\n\tstrokeDasharray: \"Solid\",\n\thoverText: {\n\t\tenable: false,\n\t}\n};\n\nexport default EachTrendLine;"]}